<?php

namespace Reviews\Foundation;

use Reviews\Foundation\View;

class FlashMessage
{
	public static function success($message)
	{
		static::message($message, 'success');
	}

	public static function message($message, $type = 'success')
	{
		$_SESSION['Reviews.flashmessage.message'] = $message;
		$_SESSION['Reviews.flashmessage.type'] = $type;
	}

	public static function handle()
	{
		$message = $_SESSION['Reviews.flashmessage.message'];
		$type = $_SESSION['Reviews.flashmessage.type'];

		unset($_SESSION['Reviews.flashmessage.message']);
		unset($_SESSION['Reviews.flashmessage.type']);

		return View::render('flashmessage.message', compact('message', 'type'));
	}
}
